{"version":3,"sources":["components/AuthCheck.tsx","components/Login.tsx","components/MarkAttendance.tsx","components/Landing.tsx","components/data/Fetch.tsx","components/data/Refresh.tsx","components/data/Open.ts","App.tsx","reportWebVitals.ts","firebase.config.ts","index.tsx"],"names":["ShowIfAuth","props","User","children","firebase","auth","currentUser","Token","a","getIdToken","ShowIfNoAuth","signOut","uiConfig","signInFlow","signInSuccessUrl","process","signInOptions","GoogleAuthProvider","PROVIDER_ID","Login","className","style","textAlign","paddingTop","src","alt","padding","color","fontSize","Typography","variant","display","height","width","firebaseAuth","MarkAttendance","open","onClose","onSubmit","subjects","useState","subjectSelected","setSubject","attendanceType","setStatus","Date","date","setDate","startTime","setStartTime","endTime","setEndTime","Dialog","scroll","aria-labelledby","DialogTitle","CssBaseline","AppBar","backgroundColor","maxHeight","position","Toolbar","IconButton","edge","onClick","aria-label","DialogContent","id","event","result","subject","toLocaleDateString","start","toLocaleTimeString","substr","end","preventDefault","DialogContentText","Autocomplete","freeSolo","aria-required","options","autoHighlight","value","onInputChange","_","trim","renderInput","params","TextField","label","required","inputProps","select","onChange","target","helperText","MenuItem","selected","utils","DateFnsUtils","DatePicker","clearable","TimePicker","minutesStep","DialogActions","type","form","Landing","React","attendance","setAttendance","setSubjects","useEffect","sendRequest","results","Array","from","Set","console","error","PerformAsync","isLoading","setIsLoading","setError","useCallback","url","method","body","headers","fetch","Authorization","mode","redirect","response","ok","Error","status","statusText","responseData","json","message","clearError","useFetch","refresh","setRefresh","refreshNow","useRefresh","defaultV","isOpen","setOpen","close","Open","OpenDialogAtt","closeDialogAtt","counter","log","AttendanceTypeMap","records","Total","Object","keys","map","uuid","moment","toDate","JSON","stringify","title","data","columns","field","defaultGroupOrder","groupTitle","render","format","actions","icon","DeleteForever","tooltip","isArray","Add","__","Refresh","grouping","addRowPosition","rowStyle","paging","actionsColumnIndex","App","alignItems","right","SignOut","then","window","location","href","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","getCurrentUser","Promise","resolve","reject","unsubscribe","onAuthStateChanged","user","initializeApp","FirebaseSetup","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.01c0d66d.chunk.js","sourcesContent":["import React from 'react';\n\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\n\nexport function ShowIfAuth(props: { children: any }) {\n   if (User() != null) return <>{props.children}</>;\n   return <></>;\n}\nexport function User() {\n   return firebase.auth().currentUser;\n}\nexport async function Token() {\n   return await User()?.getIdToken();\n}\nexport function ShowIfNoAuth(props: { children: any }) {\n   if (User() == null) return <>{props.children}</>;\n   return <></>;\n}\nexport async function SignOut() {\n   return firebase.auth().signOut();\n}\n","import React from 'react';\n\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\n\n// eslint-disable-next-line\nimport * as firebaseui from 'firebaseui';\nimport { Typography } from '@material-ui/core';\n\n// Configure FirebaseUI.\nconst uiConfig = {\n   signInFlow: 'redirect',\n   // Redirect to /signedIn after sign in is successful. Alternatively you can provide a callbacks.signInSuccess function.\n   signInSuccessUrl: `${process.env.PUBLIC_URL}/`,\n   // We will display Google and Facebook as auth providers.\n   signInOptions: [firebase.auth.GoogleAuthProvider.PROVIDER_ID] //,\n   // tosUrl: '<your-tos-url>',\n   // Privacy policy url/callback.\n   // privacyPolicyUrl: ''\n};\n\nexport default function Login() {\n   return (\n      <div\n         className=\"center\"\n         style={{ textAlign: 'center', paddingTop: '100px' }}\n      >\n         <img src={`${process.env.PUBLIC_URL}/logo192.png`} alt=\"Logo\" />\n         <div\n            className=\"center\"\n            style={{\n               textAlign: 'center',\n               padding: '30px',\n               color: '#808080',\n               fontSize: '20px'\n            }}\n         >\n            <Typography variant=\"h1\">Bunkstur</Typography>\n            <Typography variant=\"subtitle1\">Count the Number of lectures attended</Typography>\n         </div>\n         <div style={{ display: 'inline-block', height: '50%', width: '70%' }}>\n            <StyledFirebaseAuth\n               uiConfig={uiConfig}\n               firebaseAuth={firebase.auth()}\n            />\n         </div>\n      </div>\n   );\n}\n","import React, { useState } from 'react';\n\nimport Dialog from '@material-ui/core/Dialog';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport TextField from '@material-ui/core/TextField';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport CloseIcon from '@material-ui/icons/CloseRounded';\nimport MarkIcon from '@material-ui/icons/CheckCircle';\nimport SubjectIcon from '@material-ui/icons/AssignmentIndRounded';\n\nimport InputAdornment from '@material-ui/core/InputAdornment';\n\nimport DateFnsUtils from '@date-io/date-fns';\nimport {\n   DatePicker,\n   TimePicker,\n   MuiPickersUtilsProvider\n} from '@material-ui/pickers';\n\nexport default function MarkAttendance({\n   open,\n   onClose,\n   onSubmit,\n   subjects\n}: {\n   open: boolean;\n   subjects: string[];\n   onClose: () => void;\n   onSubmit: (result: {\n      subject: string;\n      date: string;\n      start: string;\n      end: string;\n      attendanceType: string;\n   }) => Promise<void>;\n}) {\n   const [subjectSelected, setSubject] = useState(subjects[0] || '');\n   const [attendanceType, setStatus] = useState('P');\n   const [date, setDate] = useState(new Date());\n   const [startTime, setStartTime] = useState(new Date());\n   const [endTime, setEndTime] = useState(new Date());\n\n   return (\n      <Dialog open={open} scroll=\"body\" aria-labelledby=\"form-dialog-title\">\n         <DialogTitle>Mark attendance</DialogTitle>\n         <CssBaseline />\n         <AppBar\n            style={{ backgroundColor: '#3f51b5', maxHeight: '8vh' }}\n            position=\"static\"\n         >\n            <Toolbar>\n               <IconButton\n                  edge=\"start\"\n                  color=\"inherit\"\n                  onClick={onClose}\n                  aria-label=\"close\"\n               >\n                  <CloseIcon />\n               </IconButton>\n            </Toolbar>\n         </AppBar>\n         <DialogContent>\n            <form\n               id=\"attendance-form\"\n               onSubmit={async event => {\n                  const result = {\n                     subject: subjectSelected,\n                     attendanceType,\n                     date: date.toLocaleDateString('en-CA'), // yyyy-mm-dd // Hack. JS needs better ways to format\n                     start: startTime\n                        .toLocaleTimeString('en-GB') // hh:mm:ss\n                        .substr(0, 5), // hh:mm\n                     end: endTime\n                        .toLocaleTimeString('en-GB') // hh:mm:ss\n                        .substr(0, 5) // hh:mm\n                  };\n                  event.preventDefault();\n                  await onSubmit(result);\n                  onClose();\n                  return false;\n               }}\n            >\n               <DialogContentText>Subject</DialogContentText>\n               <Autocomplete\n                  freeSolo\n                  aria-required={'true'}\n                  options={subjects}\n                  autoHighlight\n                  value={subjectSelected}\n                  onInputChange={(_, value) => {\n                     setSubject((value || '').trim());\n                  }}\n                  renderInput={(params: any) => (\n                     <TextField\n                        {...params}\n                        label=\"Select subject\"\n                        variant=\"outlined\"\n                        required\n                        inputProps={{\n                           ...params.inputProps\n                        }}\n                     />\n                  )}\n               />\n               <DialogContentText>Type</DialogContentText>\n               <TextField\n                  select\n                  id=\"attType\"\n                  label=\"Attendance type\"\n                  required\n                  aria-required={'true'}\n                  value={attendanceType}\n                  variant=\"outlined\"\n                  onChange={({ target: { value } }) => setStatus(value)}\n                  helperText=\"Select attendance type\"\n               >\n                  <MenuItem key=\"A\" value=\"A\">\n                     {'Absent'}\n                  </MenuItem>\n                  <MenuItem key=\"P\" value=\"P\" selected>\n                     {'Present'}\n                  </MenuItem>\n                  <MenuItem key=\"N\" value=\"N\">\n                     {'No lecture'}\n                  </MenuItem>\n               </TextField>\n\n               <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                  <DialogContentText>Date</DialogContentText>\n                  <DatePicker\n                     id=\"date\"\n                     label=\"Date\"\n                     value={date}\n                     clearable\n                     required\n                     onChange={setDate}\n                     helperText=\"Choose date\"\n                  />\n\n                  <DialogContentText>Start time</DialogContentText>\n                  <TimePicker\n                     id=\"start\"\n                     label=\"Start time\"\n                     value={startTime}\n                     required\n                     clearable\n                     minutesStep={5}\n                     onChange={start => {\n                        if (start == null) {\n                           setStartTime(start);\n                           return;\n                        }\n                        if (endTime != null && start >= endTime) {\n                           start = null;\n                        }\n                        setStartTime(start);\n                     }}\n                     helperText=\"Choose start time\"\n                  />\n\n                  <DialogContentText>End time</DialogContentText>\n                  <TimePicker\n                     id=\"end\"\n                     label=\"End time\"\n                     value={endTime}\n                     required\n                     clearable\n                     minutesStep={5}\n                     onChange={end => {\n                        if (end == null) {\n                           setEndTime(end);\n                           return;\n                        }\n                        if (startTime != null && end <= startTime) {\n                           end = null;\n                        }\n                        setEndTime(end);\n                     }}\n                     helperText=\"Choose end time\"\n                  />\n               </MuiPickersUtilsProvider>\n            </form>\n         </DialogContent>\n         <DialogActions>\n            <IconButton\n               type=\"submit\"\n               form=\"attendance-form\"\n               //    onClick={() => {\n               //       console.log(\n               //          'hu',\n               //          subjectSelected,\n               //          date,\n               //          attendanceType,\n               //          startTime,\n               //          endTime\n               //       );\n               //       if (\n               //          subjectSelected === '' ||\n               //          date == null ||\n               //          attendanceType === '' ||\n               //          startTime == null ||\n               //          endTime == null\n               //       )\n               //          return;\n               //       console.log(\n               //          'hue',\n               //          subjectSelected,\n               //          date,\n               //          attendanceType,\n               //          startTime,\n               //          endTime\n               //       );\n               //    }}\n            >\n               <MarkIcon color=\"primary\" />\n               Mark\n            </IconButton>\n         </DialogActions>\n      </Dialog>\n   );\n}\n","import React from 'react';\nimport { Token } from './AuthCheck';\nimport MaterialTable from 'material-table';\n\nimport MarkAttendance from './MarkAttendance';\n\nimport useFetch from './data/Fetch';\nimport useRefresh from './data/Refresh';\nimport Open from './data/Open';\n\nimport DeleteForever from '@material-ui/icons/DeleteForever';\nimport Add from '@material-ui/icons/AddRounded';\nimport Refresh from '@material-ui/icons/RefreshRounded';\n\nimport moment from 'moment';\n\nexport default function Landing() {\n   const [attendance, setAttendance] = React.useState<\n      Array<{\n         subject: string;\n         date: Date;\n         start: string;\n         end: string;\n         uuid: string;\n         attendanceType: string;\n      }>\n   >([]);\n   const [subjects, setSubjects] = React.useState<string[]>([]);\n   React.useEffect(() => {\n      async function PerformAsync() {\n         try {\n            const results = await sendRequest(`subjects`);\n            setSubjects(\n               Array.from(\n                  new Set<string>([...subjects, ...results])\n               )\n            );\n         } catch (err) {\n            console.error(err);\n         }\n      }\n      PerformAsync();\n   }, []);\n\n   const { sendRequest } = useFetch();\n   const { refresh, refreshNow } = useRefresh();\n   const { isOpen, open: OpenDialogAtt, close: closeDialogAtt } = Open();\n   const counter: {\n      [key: string]: { [key: string]: number };\n   } = {};\n   React.useEffect(() => {\n      async function PerformAsync() {\n         console.log(await Token());\n         try {\n            const AttendanceTypeMap: any = {};\n            AttendanceTypeMap['A'] = 'Absent';\n            AttendanceTypeMap['P'] = 'Present';\n            AttendanceTypeMap['N'] = 'No lecture';\n\n            let records = await sendRequest(`attendance`);\n            console.log(records);\n\n            for (const { subject, attendanceType } of records) {\n               if (counter[subject] == null) counter[subject] = {};\n               // Count Present/Absent records\n               counter[subject][attendanceType] =\n                  (counter[subject][attendanceType] || 0) + 1;\n               // Count Subject Total attendance\n               counter[subject].Total = (counter[subject].Total || 0) + 1;\n            }\n            setSubjects(\n               Array.from(\n                  new Set<string>([\n                     // Existing Subjects\n                     ...subjects,\n                     // Get list of all obtained subjects\n                     ...Object.keys(counter)\n                  ])\n               )\n            );\n            console.log(counter);\n            records = records.map(\n               ({\n                  subject,\n                  date,\n                  start,\n                  end,\n                  uuid,\n                  attendanceType\n               }: {\n                  subject: string;\n                  date: Date;\n                  start: string;\n                  end: string;\n                  uuid: string;\n                  attendanceType: string;\n               }) => ({\n                  subject,\n                  date: new Date(date),\n                  start: moment(start, 'hh:mm').toDate(),\n                  end: moment(end, 'hh:mm').toDate(),\n                  uuid,\n                  attendanceType: `${AttendanceTypeMap[attendanceType]} ${\n                     // Calculate Attendance Percentage\n                     (counter[subject][attendanceType] /\n                        counter[subject].Total) *\n                     100\n                  }`\n               })\n            );\n            setAttendance(records);\n         } catch (err) {\n            console.error(err);\n         }\n      }\n      PerformAsync();\n   }, [refresh]);\n   return (\n      <>\n         <MarkAttendance\n            open={isOpen}\n            onClose={closeDialogAtt}\n            subjects={subjects}\n            onSubmit={async result => {\n               console.log(JSON.stringify(result));\n               await sendRequest('attendance', 'POST', JSON.stringify(result), {\n                  'Content-Type': 'Application/json'\n               });\n               refreshNow();\n            }}\n         />\n         <MaterialTable\n            title=\"Attendance Records\"\n            data={attendance}\n            columns={[\n               {\n                  title: 'Subject',\n                  field: 'subject',\n                  type: 'string',\n                  defaultGroupOrder: 0,\n                  groupTitle: 'Subjects'\n               },\n               {\n                  title: 'Attendance',\n                  field: 'attendanceType',\n                  defaultGroupOrder: 1,\n                  render: attendance => attendance\n               },\n               {\n                  title: 'Date',\n                  field: 'date',\n                  type: 'date',\n                  render: date => moment(date.date || date).format('LL')\n               },\n               {\n                  title: 'Start',\n                  field: 'start',\n                  type: 'time',\n                  render: start => moment(start.start).format('LT')\n               },\n               {\n                  title: 'End',\n                  field: 'end',\n                  type: 'time',\n                  render: end => moment(end.end).format('LT')\n               }\n            ]}\n            actions={[\n               {\n                  icon: DeleteForever,\n                  tooltip: 'Delete attendance record',\n                  onClick: async (_, data) => {\n                     const { uuid } = Array.isArray(data) ? data[0] : data;\n                     await sendRequest(`attendance/${uuid}`, 'DELETE');\n                     refreshNow();\n                  },\n                  position: 'row'\n               },\n               {\n                  icon: Add,\n                  position: 'toolbar',\n\n                  tooltip: 'Add attendance record',\n                  onClick: (_, __) => {\n                     OpenDialogAtt();\n                  }\n               },\n               {\n                  icon: Refresh,\n                  position: 'toolbar',\n                  tooltip: 'Refresh',\n                  onClick: (_, __) => refreshNow()\n               }\n            ]}\n            options={{\n               grouping: true,\n               addRowPosition: 'first',\n               rowStyle: {\n                  backgroundColor: '#EEE'\n               },\n               paging: false,\n               // Set actions to last index\n               actionsColumnIndex: -1\n            }}\n         />\n      </>\n   );\n}\n","import { useState, useCallback } from 'react';\nimport { Token } from '../AuthCheck';\n\nexport default function useHttpClient() {\n   const [isLoading, setIsLoading] = useState(false);\n   const [error, setError] = useState<string | null>(null);\n\n   const sendRequest = useCallback(\n      async (url: string, method = 'GET', body = null, headers = {}) => {\n         setIsLoading(true);\n\n         try {\n            const response = await fetch(\n               `${process.env.REACT_APP_SERVER}/api/v1/${url}`,\n               {\n                  method,\n                  body,\n                  mode: 'cors',\n                  headers: {\n                     ...headers,\n                     Authorization: `Bearer ${await Token()}`\n                  },\n                  redirect: 'follow'\n               }\n            );\n            if (!response.ok) {\n               throw new Error(\n                  response.status + ' : ' + response.statusText + ' : '\n               );\n            }\n\n            let responseData = null;\n            try {\n               responseData = await response.json();\n            } catch (err) {}\n            setIsLoading(false);\n            return responseData;\n         } catch (err) {\n            setError(err.message);\n            setIsLoading(false);\n            throw err;\n         }\n      },\n      []\n   );\n\n   const clearError = () => {\n      setError(null);\n   };\n\n   return { isLoading, error, sendRequest, clearError };\n}\n","import { useState } from 'react';\n\nexport default function useRefresh() {\n   const [refresh, setRefresh] = useState(true);\n   const refreshNow = () => {\n      setRefresh(!refresh);\n   };\n   return {refresh, refreshNow};\n}\n","import { useState } from 'react';\n\nexport default function Open(defaultV = false) {\n   const [isOpen, setOpen] = useState(defaultV);\n   const open = () => {\n      setOpen(true);\n   };\n   const close = () => {\n      setOpen(false);\n   };\n   return { isOpen, open, close };\n}\n","import React from 'react';\nimport './App.css';\nimport { ShowIfAuth, ShowIfNoAuth, SignOut } from './components/AuthCheck';\nimport Login from './components/Login';\n\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Landing from './components/Landing';\nimport IconButton from '@material-ui/core/IconButton';\nimport LogoutIcon from '@material-ui/icons/PowerSettingsNewRounded';\n\nfunction App() {\n   return (\n      <>\n         <ShowIfAuth>\n            <div>\n               <AppBar position=\"static\">\n                  <Toolbar>\n                     <div style={{ textAlign: 'center' }}>\n                        <Typography variant=\"h3\" color=\"inherit\">\n                           Bunkstur\n                           <Typography variant=\"h6\" color=\"inherit\">\n                              Attendance Calculator\n                           </Typography>\n                        </Typography>\n                     </div>\n                     <IconButton\n                        style={{\n                           alignItems: 'end',\n                           position: 'absolute',\n                           right: '2vw',\n                           height: '100%'\n                        }}\n                        onClick={() => {\n                           SignOut().then(() => {\n                              window.location.href = `${process.env.PUBLIC_URL}/`;\n                           });\n                        }}\n                     >\n                        <div>\n                           <LogoutIcon />\n                           <br />\n                           LOGOUT\n                        </div>\n                     </IconButton>\n                  </Toolbar>\n               </AppBar>\n               <Landing />\n            </div>\n         </ShowIfAuth>\n         <ShowIfNoAuth>\n            <Login />\n         </ShowIfNoAuth>\n      </>\n   );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","const firebaseConfig = {\n   apiKey: 'AIzaSyBuAD8yempb8JnNnl5-GyMfZh0ms5bgg3o',\n   authDomain: 'bunkstur.firebaseapp.com',\n   projectId: 'bunkstur',\n   storageBucket: 'bunkstur.appspot.com',\n   messagingSenderId: '757435315429',\n   appId: '1:757435315429:web:1e1a63a02566a1f256d00c',\n   measurementId: 'G-JCQ753ZH2C'\n};\n\nexport default firebaseConfig;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport firebase from \"firebase/app\";\nimport 'firebase/auth';\nimport firebaseConfig from './firebase.config';\n\nasync function FirebaseSetup() {\n   // eslint-disable-next-line\n   // await CreateAppointments();\n   // Wait till Firebase Load Complete before Firing\n   function getCurrentUser(auth: firebase.auth.Auth) {\n      return new Promise<firebase.User | null>((resolve, reject) => {\n         const unsubscribe = auth.onAuthStateChanged(user => {\n            unsubscribe();\n            resolve(user);\n         }, reject);\n      });\n   }\n   // If you want your app to work offline and load faster, you can change\n   // unregister() to register() below. Note this comes with some pitfalls.\n   // Learn more about service workers: https://bit.ly/CRA-PWA\n  //  serviceWorker.register();\n\n   firebase.initializeApp(firebaseConfig);\n   await getCurrentUser(firebase.auth());\n}\n\nFirebaseSetup().then(async () => {\n   ReactDOM.render(\n      <React.StrictMode>\n         <App />\n      </React.StrictMode>,\n      document.getElementById('root')\n   );\n});\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}